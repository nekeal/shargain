# API Specification

## REST API Specification
-   **Style:** RESTful API
-   **Specification Format:** OpenAPI 3.1.0
-   **Source of Truth:** The canonical API specification is the `openapi.json` file located in the `frontend/` directory. This file is automatically generated by Django Ninja from the backend code. This ensures the specification is always synchronized with the implementation. This architecture document will summarize the API's structure but will not duplicate the full specification.

### Authentication

The API uses session-based authentication. After a user logs in via the `/api/public/auth/login` endpoint, a `sessionid` HTTP-only cookie is set. Subsequent authenticated requests must include this cookie. Endpoints requiring authentication are marked with the `SessionAuth` security scheme in the OpenAPI specification.

### Core Resources and Endpoints

The API is organized around the following core resources:

-   **Auth:** (`/api/public/auth/...`) - Endpoints for login, logout, signup, and CSRF token retrieval.
-   **Users:** (`/api/public/me`) - An endpoint to retrieve the currently authenticated user.
-   **Scrapping Targets:** (`/api/public/targets/...`) - Provides functionality to manage scraping targets. The API follows a hybrid approach, combining resource-oriented endpoints for fetching targets with **action-oriented endpoints** (e.g., `/activate`, `/toggle-notifications`, `/send-test-notification`) to execute specific business logic.
-   **Notifications:** (`/api/public/notifications/...`) - Full CRUD functionality for managing notification configurations.
